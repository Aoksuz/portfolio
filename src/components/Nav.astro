---
import {
  LinkedinIcon,
  GithubIcon,
  InstagramIcon,
  PlusSquareIcon,
  XSquareIcon
} from 'astro-feather'

interface Props {
  navItems: string[]
}

const { navItems } = Astro.props
---

<nav class='flex h-10 justify-between text-grey-light'>
  <div class='content-center items-center gap-4 hidden md:flex'>
    {
      navItems.map((item) => (
        <a href={item === 'Home' ? '/' : item.toLowerCase()}>{item}</a>
      ))
    }
  </div>
  <div class='flex flex-col mt-2 md:hidden'>
    <button class='flex gap-1 [&>svg]:w-[18px] items-center' id='navToggle'>
      <PlusSquareIcon />
      <XSquareIcon customClasses='hidden' />
      <span>Menu</span>
    </button>
    <div class='flex-col gap-2 mt-3 border-b-[1px] pb-3 border-b-grey hidden'>
      {
        navItems.map((item) => (
          <a href={item === 'Home' ? '/' : item.toLowerCase()}>{item}</a>
        ))
      }
    </div>
  </div>
  <div
    class='flex items-center gap-4 [&>a>svg]:w-[16px] hover:[&>a>svg]:text-primary [&>*>svg]:text-grey'
  >
    <a
      href='https://www.linkedin.com/in/abdullah-oksuz/'
      target='_blank'
      aria-label='LinkedIn'
      rel='noreferrer'
    >
      <LinkedinIcon />
    </a>
    <a
      href='https://github.com/Aoksuz'
      target='_blank'
      aria-label='Github'
      rel='noreferrer'
    >
      <GithubIcon />
    </a>
    <a
      href='https://www.instagram.com/abd_oksz/'
      target='_blank'
      aria-label='Instagram'
      rel='noreferrer'
    >
      <InstagramIcon />
    </a>
  </div>
</nav>

<script>
  document.addEventListener('astro:page-load', () => {
    const navToggle = document.getElementById('navToggle')
    if (navToggle) {
      navToggle.addEventListener('click', () => {
        const menu = navToggle.parentElement.children[1]
        const buttonText = navToggle.children[2]
        const menuIcon = navToggle.children
        if (menu) {
          if (menu.classList.contains('hidden')) {
            menu.classList.remove('hidden')
            menu.classList.add('flex')
            buttonText.innerHTML = 'Close'
            menuIcon[0].classList.add('hidden')
            menuIcon[1].classList.remove('hidden')
          } else {
            menu.classList.add('hidden')
            menu.classList.remove('flex')
            buttonText.innerHTML = 'Menu'
            menuIcon[0].classList.remove('hidden')
            menuIcon[1].classList.add('hidden')
          }
        }
      })
    }
  })
</script>
